{% extends 'base.html.twig' %}

{% block title %}Saved Posts{% endblock %}

{% block body %}
    <form method="get" action="{{ path('app_posts') }}">
    <input type="text" name="q" placeholder="Search by title" value="{{ searchTerm }}">
    <button type="submit">Search</button>
    <a href="{{ path('app_posts') }}">Clear</a>
</form>

<ul>
    <ul>
{% for post in pagination %}
    <li>
        <strong>{{ post.title }}</strong><br>
        {{ post.body }}<br>
        <a href="{{ path('app_post_edit', {'id': post.id}) }}">Edit</a> |
        <form method="post" action="{{ path('app_post_delete', {'id': post.id}) }}" style="display:inline">
            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ post.id) }}">
            <button type="submit" onclick="return confirm('Are you sure?')">Delete</button>
        </form>
    </li>
{% else %}
    <li>No posts found.</li>
{% endfor %}
</ul>

</ul>

<div class="navigation">
    {{ knp_pagination_render(pagination) }}
</div>

{% endblock %}
